<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport"content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes"/>
  
  
  <title>  Min‘s blog</title>

 
  
    <link rel="icon" href="/img/favicon.png">
  


  <!-- css -->
  <link rel="stylesheet" href="/css/style.css">  
  <!-- Jquery -->
  <script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script> 
  <!-- Add fancyBox -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script> 
  <script src="/js/gallery.js"></script>
  <!-- javascript --> 
  <script src="/js/mobile.js"></script>  
  <script src="/js/utils.js"></script>    
  <script src="/js/script.js"></script>  
</head> 
  <body> 
    <header class="header">
	
  <nav class="header-nav">       
	
  	<span class="iconfont icon-menu mobile-toggle"></span>  

    <a class="header-logo" href="/"><span>Min&#39;s blog</a>  

    <div class="header-menu">          
              
            

              <a class="header-menu-link" id="header-menu-home" href="/">首页</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-archives" href="/archives">归档</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-categories" href="/categories">分类</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-tags" href="/tags">标签</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-about" href="/about">关于</a>     

            
            
            

              <a class="iconfont icon-menu-search header-menu-link" id="header-menu-search"></a>

            
                
    </div>  
    
  </nav>
</header>

    <div class="container">         
      
        

          <section id="main">  

        

        


<div class="profile sildeUpMin">

		<img class="avatar no-gallery" src="/img/timg.jpeg"  alt="Lose">
					
		<p class="author">Rui Min</p>

		
			<p class="location"><span class="iconfont icon-location"></span>BeiJing CN</p>
		
	
		<div class="social">
   		    	
		<a href="https://github.com/bjcoder" class="iconfont icon-github" target="_blank" title="github"></a>
	        	
		<a href="/" class="iconfont icon-others" target="_blank" title="others"></a>
	    
    	</div>		
</div>

      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/02/12/idea操作/">idea操作</a>  
	       
		 

		 <time>2018-02-12 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="1-idea操作"><a href="#1-idea操作" class="headerlink" title="1 idea操作"></a>1 idea操作</h1><h2 id="设置idea的eclipse模式的快捷键"><a href="#设置idea的eclipse模式的快捷键" class="headerlink" title="设置idea的eclipse模式的快捷键"></a>设置idea的eclipse模式的快捷键</h2><p>windows:Configure-&gt;setting-&gt;keymap-&gt;keymaps-&gt;eclipse<br>Mac:Configure-&gt;preferences-&gt;keymap-&gt;keymaps-&gt;eclipse(Mac OS X)<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/idea/idea1.gif" alt="idea1"></p>
<h2 id="设置idea的maven打包"><a href="#设置idea的maven打包" class="headerlink" title="设置idea的maven打包"></a>设置idea的maven打包</h2><p><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/idea/idea2.gif" alt="idea2"></p>
<h2 id="创建idea的web项目"><a href="#创建idea的web项目" class="headerlink" title="创建idea的web项目"></a>创建idea的web项目</h2><p><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/idea/idea3.gif" alt="idea3"><br> 创建的项目没法创建Java类，需要右键项目-&gt;Mark Directoys-&gt;sources root<br><a href="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/video/idea/idea.avi" target="_blank" rel="noopener">idea操作完整视频下载</a></p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/java/">java</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/java/">java</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		259
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/02/12/idea操作/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/02/10/IDEA中pom常见错误及解决方法/">IDEA中pom常见错误及解决方法</a>  
	       
		 

		 <time>2018-02-10 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="1-inspects-a-maven-model-for-resolution-problems"><a href="#1-inspects-a-maven-model-for-resolution-problems" class="headerlink" title="1 inspects a maven model for resolution problems"></a>1 inspects a maven model for resolution problems</h1><h2 id="第一种-找到pom-xml"><a href="#第一种-找到pom-xml" class="headerlink" title="第一种   找到pom.xml"></a>第一种   找到pom.xml</h2><pre><code>右击  --&gt; Maven --&gt; reImport
</code></pre><h2 id="第二种-查看jar包是否下载正确"><a href="#第二种-查看jar包是否下载正确" class="headerlink" title="第二种 查看jar包是否下载正确"></a>第二种 查看jar包是否下载正确</h2> 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/java/">java</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/java/">java</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		96
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/02/10/IDEA中pom常见错误及解决方法/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/02/05/solr cloud安装部署/">solr cloud安装部署</a>  
	       
		 

		 <time>2018-02-05 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="第一部分：初始化环境"><a href="#第一部分：初始化环境" class="headerlink" title="第一部分：初始化环境"></a>第一部分：初始化环境</h1><h2 id="1、初始化环境"><a href="#1、初始化环境" class="headerlink" title="1、初始化环境"></a>1、初始化环境</h2><ul>
<li>准备三台linux服务器</li>
<li>在服务器上创建三个目录<ul>
<li>software目录:software目录是用来存放软件安装包<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/software</span><br></pre></td></tr></table></figure></li>
<li>servers目录：servers目录用来用来安装软件<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/servers</span><br></pre></td></tr></table></figure></li>
<li>data目录：data目录用来存放软件运行的数据、日志<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/data</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>关闭三台机器的防火墙<ul>
<li>永久关闭，需要重启<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig iptables off</span><br></pre></td></tr></table></figure></li>
<li>临时管理，重启失效<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables stop</span><br></pre></td></tr></table></figure></li>
<li>关闭之后可查看防火墙状态<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables status</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="2、准备solr安装包"><a href="#2、准备solr安装包" class="headerlink" title="2、准备solr安装包"></a>2、准备solr安装包</h2><ul>
<li>上传solr-4.10.2的安装包 到 /export/software 目录</li>
<li>上传 tomcat-</li>
</ul>
<h2 id="3、解压安装包"><a href="#3、解压安装包" class="headerlink" title="3、解压安装包"></a>3、解压安装包</h2><ul>
<li>解压solr<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf solr<span class="number">-4.10</span><span class="number">.2</span>.tgz -C /<span class="keyword">export</span>/servers/servers/</span><br></pre></td></tr></table></figure></li>
<li>解压 tomcat<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-tomcat<span class="number">-7.0</span><span class="number">.57</span>.tar.gz -C /<span class="keyword">export</span>/servers/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4、创建solr的工作目录"><a href="#4、创建solr的工作目录" class="headerlink" title="4、创建solr的工作目录"></a>4、创建solr的工作目录</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/data/solr_home</span><br></pre></td></tr></table></figure>
<h2 id="5、tomcat-软连接创建"><a href="#5、tomcat-软连接创建" class="headerlink" title="5、tomcat 软连接创建"></a>5、tomcat 软连接创建</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s apache-tomcat<span class="number">-7.0</span><span class="number">.57</span>/ tomcat4solr</span><br></pre></td></tr></table></figure>
<h1 id="第二部分：在Linux上部署单机版本的solr"><a href="#第二部分：在Linux上部署单机版本的solr" class="headerlink" title="第二部分：在Linux上部署单机版本的solr"></a>第二部分：在Linux上部署单机版本的solr</h1><h2 id="1、将solr-war包拷贝到tomcat的webapps下"><a href="#1、将solr-war包拷贝到tomcat的webapps下" class="headerlink" title="1、将solr.war包拷贝到tomcat的webapps下"></a>1、将solr.war包拷贝到tomcat的webapps下</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/example/webapps</span><br><span class="line">cp solr.war /<span class="keyword">export</span>/servers/tomcat4solr/webapps/</span><br></pre></td></tr></table></figure>
<h2 id="2、启动下tomcat，让tomcat帮解压solr-war，然后关闭tomcat"><a href="#2、启动下tomcat，让tomcat帮解压solr-war，然后关闭tomcat" class="headerlink" title="2、启动下tomcat，让tomcat帮解压solr.war，然后关闭tomcat"></a>2、启动下tomcat，让tomcat帮解压solr.war，然后关闭tomcat</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin/</span><br><span class="line">./startup.sh </span><br><span class="line">./shutdown.sh</span><br></pre></td></tr></table></figure>
<h2 id="3、修改solr-web项目的配置文件，指定solrhome"><a href="#3、修改solr-web项目的配置文件，指定solrhome" class="headerlink" title="3、修改solr web项目的配置文件，指定solrhome"></a>3、修改solr web项目的配置文件，指定solrhome</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/webapps/solr/WEB-INF/</span><br><span class="line">vi web.xml</span><br></pre></td></tr></table></figure>
<p>修改内容,并保存。<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solrhome.png" alt="solrhome"></p>
<ul>
<li>第一步 去掉注释</li>
<li>第二步 修改 env-entry-type 为 /export/data/solr_home</li>
</ul>
<h2 id="4、拷贝一个solr-core到solr-home下"><a href="#4、拷贝一个solr-core到solr-home下" class="headerlink" title="4、拷贝一个solr core到solr_home下"></a>4、拷贝一个solr core到solr_home下</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/example/solr</span><br><span class="line">cp -r collection1/ /<span class="keyword">export</span>/data/solr_home/</span><br></pre></td></tr></table></figure>
<h2 id="5、为solr的运行准备配置lib"><a href="#5、为solr的运行准备配置lib" class="headerlink" title="5、为solr的运行准备配置lib"></a>5、为solr的运行准备配置lib</h2><ul>
<li>先创建lib目录<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/data/solr_home/</span><br><span class="line">mkdir lib</span><br></pre></td></tr></table></figure></li>
<li>然后将依赖拷贝过来<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd lib/</span><br><span class="line">cp -r /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/contrib/ .</span><br><span class="line">cp -r /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/dist/ .</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="6、修改collection1-的solrconfig-xml文件，配置lib路径"><a href="#6、修改collection1-的solrconfig-xml文件，配置lib路径" class="headerlink" title="6、修改collection1 的solrconfig.xml文件，配置lib路径"></a>6、修改collection1 的solrconfig.xml文件，配置lib路径</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/data/solr_home/collection1/conf</span><br><span class="line">vi solrconfig.xml</span><br></pre></td></tr></table></figure>
<ul>
<li>原始内容<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solrconfig1.png" alt="solrconfig1"></li>
<li>修改后的内容<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solrconfig2.png" alt="solrconfig2"></li>
</ul>
<h2 id="7、将ext扩展的jar包拷贝到solr的web项目下"><a href="#7、将ext扩展的jar包拷贝到solr的web项目下" class="headerlink" title="7、将ext扩展的jar包拷贝到solr的web项目下"></a>7、将ext扩展的jar包拷贝到solr的web项目下</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/webapps/solr/WEB-INF/lib/</span><br><span class="line">cp -r /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/example/lib/ext<span class="comment">/* .</span></span><br></pre></td></tr></table></figure>
<h2 id="8、启动solr"><a href="#8、启动solr" class="headerlink" title="8、启动solr"></a>8、启动solr</h2><p>启动solr即使启动tomcat<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin</span><br><span class="line">./startup.sh</span><br></pre></td></tr></table></figure></p>
<h2 id="9、访问单机版本的solr服务"><a href="#9、访问单机版本的solr服务" class="headerlink" title="9、访问单机版本的solr服务"></a>9、访问单机版本的solr服务</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//&#123;u solr hostname&#125;:8080/solr</span></span><br></pre></td></tr></table></figure>
<h1 id="第三部分-配置集群"><a href="#第三部分-配置集群" class="headerlink" title="第三部分:配置集群"></a>第三部分:配置集群</h1><h2 id="1、梳理修改了哪些目录"><a href="#1、梳理修改了哪些目录" class="headerlink" title="1、梳理修改了哪些目录"></a>1、梳理修改了哪些目录</h2><ul>
<li>三个标准目录<ul>
<li>/export/data/</li>
<li>/export/servers/</li>
<li>/export/software/</li>
</ul>
</li>
<li>安装目录<ul>
<li>/export/data/solr_home</li>
<li>/export/servers/tomcat4solr<br>总结，需要将两个solr的安装目录拷贝到其他机器上。</li>
</ul>
</li>
</ul>
<h2 id="2、在其他机器上创建工作目录"><a href="#2、在其他机器上创建工作目录" class="headerlink" title="2、在其他机器上创建工作目录"></a>2、在其他机器上创建工作目录</h2><p>在hadoop02上操作<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/data/solr_home</span><br><span class="line">mkdir -p /<span class="keyword">export</span>/servers/tomcat4solr</span><br></pre></td></tr></table></figure><br>在hadoop03上操作<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /<span class="keyword">export</span>/data/solr_home</span><br><span class="line">mkdir -p /<span class="keyword">export</span>/servers/tomcat4solr</span><br></pre></td></tr></table></figure></p>
<h2 id="3、拷贝安装内容到其它机器"><a href="#3、拷贝安装内容到其它机器" class="headerlink" title="3、拷贝安装内容到其它机器"></a>3、拷贝安装内容到其它机器</h2><p>在hadoop01上执行<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scp -r /<span class="keyword">export</span>/data/solr_home<span class="comment">/* hadoop02:/export/data/solr_home/</span></span><br><span class="line"><span class="comment">scp -r /export/servers/tomcat4solr/* hadoop02:/export/servers/tomcat4solr/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">scp -r /export/data/solr_home/* hadoop03:/export/data/solr_home/</span></span><br><span class="line"><span class="comment">scp -r /export/servers/tomcat4solr/* hadoop03:/export/servers/tomcat4solr/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4、启动zookeeper集群"><a href="#4、启动zookeeper集群" class="headerlink" title="4、启动zookeeper集群"></a>4、启动zookeeper集群</h2><h2 id="5、将solr的配置文件上传到zookeeper"><a href="#5、将solr的配置文件上传到zookeeper" class="headerlink" title="5、将solr的配置文件上传到zookeeper"></a>5、将solr的配置文件上传到zookeeper</h2><p>主要是solrconfig.xml和scheme.xml、<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/example/scripts/cloud-scripts</span><br><span class="line"></span><br><span class="line">./zkcli.sh -zkhost zk01:<span class="number">2181</span>,zk02:<span class="number">2181</span>,zk03:<span class="number">2181</span> -cmd upconfig -confdir /<span class="keyword">export</span>/data/solr_home/collection1/conf/ -confname solrconf</span><br></pre></td></tr></table></figure></p>
<h2 id="6、检查配置文件是否上传到zookeeper上"><a href="#6、检查配置文件是否上传到zookeeper上" class="headerlink" title="6、检查配置文件是否上传到zookeeper上"></a>6、检查配置文件是否上传到zookeeper上</h2><p>使用zookeeper的客户端命令查看zookeeper的目录树<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkCli.sh</span><br></pre></td></tr></table></figure><br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/zkcli.png" alt="zkcli"><br>也可以使用zookeeper可视化工具查看</p>
<h2 id="7、修改集群中每个solr的solr-xml文件"><a href="#7、修改集群中每个solr的solr-xml文件" class="headerlink" title="7、修改集群中每个solr的solr.xml文件"></a>7、修改集群中每个solr的solr.xml文件</h2><ul>
<li>修改配置文件<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp /<span class="keyword">export</span>/servers/solr<span class="number">-4.10</span><span class="number">.2</span>/example/solr/solr.xml /<span class="keyword">export</span>/data/solr_home/</span><br><span class="line">cd /<span class="keyword">export</span>/data/solr_home/</span><br><span class="line">vi solr.xml</span><br></pre></td></tr></table></figure>
<img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solr.png" alt="solr"></li>
<li>发送给其他节点<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp solr.xml hadoop02:$PWD</span><br><span class="line">scp solr.xml hadoop03:$PWD</span><br></pre></td></tr></table></figure>
<h2 id="8、让solr和zookeeper产生关系"><a href="#8、让solr和zookeeper产生关系" class="headerlink" title="8、让solr和zookeeper产生关系"></a>8、让solr和zookeeper产生关系</h2>修改每一台solr的tomcat 的 bin目录下catalina.sh文件中加入DzkHost指定zookeeper服务器地址。<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin</span><br><span class="line">vi catalina.sh</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> JAVA_OPTS=<span class="string">"-DzkHost=zk01:2181,zk02:2181,zk03:2181"</span></span><br></pre></td></tr></table></figure>
<img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solr_zookeeper.png" alt="solr_zookeeper"><br>然后分发到到其它机器上<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp catalina.sh hadoop02:$PWD</span><br><span class="line">scp catalina.sh hadoop03:$PWD</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="9、依次启动tomcat"><a href="#9、依次启动tomcat" class="headerlink" title="9、依次启动tomcat"></a>9、依次启动tomcat</h2><p>在hadoop01上<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin</span><br><span class="line">./startup.sh</span><br></pre></td></tr></table></figure><br>在hadoop02上<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin</span><br><span class="line">./startup.sh</span><br></pre></td></tr></table></figure><br>在hadoop03上<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="keyword">export</span>/servers/tomcat4solr/bin</span><br><span class="line">./startup.sh</span><br></pre></td></tr></table></figure><br>然后访问任意一台solr服务，可以看到集群配置成功。<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solr_ui.png" alt="solr_ui"></p>
<h1 id="第四部分：配置新的集群"><a href="#第四部分：配置新的集群" class="headerlink" title="第四部分：配置新的集群"></a>第四部分：配置新的集群</h1><h2 id="1、配置命令"><a href="#1、配置命令" class="headerlink" title="1、配置命令"></a>1、配置命令</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//hadoop01:8080/solr/admin/collections?action=CREATE&amp;name=mycore2&amp;numShards=2&amp;replicationFactor=2&amp;maxShardsPerNode=8&amp;property.schema=schema.xml&amp;property.config=solrconfig.xml</span></span><br></pre></td></tr></table></figure>
<h2 id="2、命令说明"><a href="#2、命令说明" class="headerlink" title="2、命令说明"></a>2、命令说明</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name指明collection名称</span><br><span class="line">numShards指明分片数</span><br><span class="line">replicationFactor指明副本数</span><br><span class="line">maxShardsPerNode 每个节点最大分片数（默认为<span class="number">1</span>）</span><br><span class="line">property.schema：指定使用的schema.xml，这个文件必须在zookeeper上。</span><br><span class="line">property.config：指定使用的solrconfig.xml，这个文件必须在zookeeper上。</span><br></pre></td></tr></table></figure>
<h2 id="3、执行效果"><a href="#3、执行效果" class="headerlink" title="3、执行效果"></a>3、执行效果</h2><p><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solr_ui1.png" alt="solr_ui1"><br>查看cloud管理界面：<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/solr/solr_ui2.png" alt="solr_ui2"></p>
<h2 id="4、其他可选操作"><a href="#4、其他可选操作" class="headerlink" title="4、其他可选操作"></a>4、其他可选操作</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">删除core命令；</span><br><span class="line">http:<span class="comment">//node01:8080/solr/admin/collections?action=DELETE&amp;name=collection1</span></span><br><span class="line">执行后原来的collection1删除，如下：</span><br><span class="line"></span><br><span class="line">查询所有的core</span><br><span class="line">http:<span class="comment">//node01:8080/solr/admin/collections?action=LIST</span></span><br><span class="line"></span><br><span class="line">显示集群的状态</span><br><span class="line">http:<span class="comment">//node01:8080/solr/admin/collections?action=CLUSTERSTATUS</span></span><br><span class="line"></span><br><span class="line">分裂shard</span><br><span class="line">http:<span class="comment">//node01:8080/solr/admin/collections?action=SPLITSHARD&amp;collection=mycore9&amp;shard=shard1</span></span><br><span class="line"></span><br><span class="line">删除shard</span><br><span class="line">http:<span class="comment">//node01:8080/solr/admin/collections?action=DELETESHARD&amp;shard=shard1&amp;collection=mycore9</span></span><br></pre></td></tr></table></figure>
<h1 id="第五部分：使用Java-Api操作集群"><a href="#第五部分：使用Java-Api操作集群" class="headerlink" title="第五部分：使用Java Api操作集群"></a>第五部分：使用Java Api操作集群</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;4.10.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;commons-logging&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;commons-logging-api&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.1&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">package cn.itcast.ss.solr;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import org.apache.solr.client.solrj.SolrQuery;</span><br><span class="line">import org.apache.solr.client.solrj.SolrServerException;</span><br><span class="line">import org.apache.solr.client.solrj.impl.CloudSolrServer;</span><br><span class="line">import org.apache.solr.client.solrj.response.QueryResponse;</span><br><span class="line">import org.apache.solr.common.SolrInputDocument;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * solrcloud 操作和solr的操作基本一样</span></span><br><span class="line"><span class="comment"> * 唯一不同的是，solr创建是httpsolrserver，solr cloud创建是cloudsolrserver</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="keyword">class</span> SolrCloudTest &#123;</span><br><span class="line">	</span><br><span class="line">	public <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) throws Exception &#123;</span><br><span class="line">		<span class="comment">// 1.创建一个solr cloud的连接，需要指定zookeeper的地址，需要制定操作的索引库</span></span><br><span class="line">		CloudSolrServer cloudSolrServer = new CloudSolrServer(<span class="string">"zk01:2181,zk02:2181,zk03:2181"</span>);</span><br><span class="line">		cloudSolrServer.setDefaultCollection(<span class="string">"aaa"</span>);</span><br><span class="line">		cloudSolrServer.connect();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2.创建索引</span></span><br><span class="line">		SolrInputDocument solrInputDocument = new SolrInputDocument();</span><br><span class="line">		solrInputDocument.addField(<span class="string">"id"</span>, <span class="string">"300"</span>);</span><br><span class="line">		solrInputDocument.addField(<span class="string">"name"</span>, <span class="string">"我爱我的祖国"</span>);</span><br><span class="line">		solrInputDocument.addField(<span class="string">"price"</span>, <span class="string">"520"</span>);</span><br><span class="line">		solrInputDocument.addField(<span class="string">"url"</span>, <span class="string">"http://www.itcast.cn"</span>);</span><br><span class="line">		cloudSolrServer.add(solrInputDocument);</span><br><span class="line">		cloudSolrServer.commit();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3.查询代码</span></span><br><span class="line">		SolrQuery solrQuery = new SolrQuery(<span class="string">"name:祖国"</span>);</span><br><span class="line">		QueryResponse res = cloudSolrServer.query(solrQuery);</span><br><span class="line">		List&lt;Product&gt; beans = res.getBeans(Product.class);</span><br><span class="line">		<span class="keyword">for</span> (Product product : beans) &#123;</span><br><span class="line">			System.out.println(product);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4.删除文档</span></span><br><span class="line"><span class="comment">//		cloudSolrServer.deleteById("100");</span></span><br><span class="line">		cloudSolrServer.deleteByQuery(<span class="string">"name:祖国"</span>);</span><br><span class="line">		cloudSolrServer.commit();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 收尾工作-关闭连接</span></span><br><span class="line">		cloudSolrServer.shutdown();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/java/">java</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/solr/">solr</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		6187
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/02/05/solr cloud安装部署/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/02/02/使用spark-sql操作hive中的表/">使用spark-sql操作hive中的表</a>  
	       
		 

		 <time>2018-02-02 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="SparkSQL操作Hive中的表数据"><a href="#SparkSQL操作Hive中的表数据" class="headerlink" title="SparkSQL操作Hive中的表数据"></a>SparkSQL操作Hive中的表数据</h1><p>spark可以通过读取hive的元数据来兼容hive，读取hive的表数据，然后在spark引擎中进行sql统计分析。<br>注意：hive表的字符集应为latin1</p>
<h1 id="1、启动hive的元数据服务"><a href="#1、启动hive的元数据服务" class="headerlink" title="1、启动hive的元数据服务"></a>1、启动hive的元数据服务</h1><p>hive可以通过服务的形式对外提供元数据读写操作，通过简单的配置即可<br>编辑 $HIVE_HOME/conf/hive-site.xml,增加如下内容:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hive.metastore.uris&lt;/name&gt;</span><br><span class="line">&lt;value&gt;thrift:<span class="comment">//master:9083&lt;/value&gt;</span></span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><br> 启动hive metastore<br>[hadoop@centos-linux-7  ~]${HIVE_HOME}/bin/hive –service metastore  1&gt;/dev/null  2&gt;&amp;1  &amp;</p>
<p> 查看 metastore:<br>[hadoop@centos-linux-7  ~] jobs<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/hive/%E5%90%AF%E5%8A%A8megastore.png" alt="启动megastore"></p>
<h1 id="2、spark配置"><a href="#2、spark配置" class="headerlink" title="2、spark配置"></a>2、spark配置</h1><p>将hive的配置文件拷贝给spark<br>将 $HIVE_HOME/conf/hive-site.xml copy $SPARK_HOME/conf/<br>将mysql的jdbc驱动包拷贝给spark<br>将 $HIVE_HOME/lib/mysql-connector-java-5.1.12.jar copy或者软链到$SPARK_HOME/lib/</p>
<h1 id="3-启动spark-sql"><a href="#3-启动spark-sql" class="headerlink" title="3.启动spark-sql"></a>3.启动spark-sql</h1><p>所有命令启动spark-sql<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark-sql --master spark:<span class="comment">//master:7077</span></span><br></pre></td></tr></table></figure><br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/hive/%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A51.png" alt="启动spark-sql"><br>现在可以尽情的操作hive了，<br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/hive/%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C1.png" alt="查询语句1"><br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/hive/%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C1.png" alt="查询结果1"></p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/大数据/">大数据</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/spark/">spark</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		717
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/02/02/使用spark-sql操作hive中的表/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/02/01/Hive配置/">Hive配置</a>  
	       
		 

		 <time>2018-02-01 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h1><p>安装hive前提是要先安装hadoop集群，并且hive只需要再hadoop的namenode节点集群里安装即可(需要再所有namenode上安装)，可以不在datanode节点的机器上安装。另外还需要说明的是，虽然修改配置文件并不需要你已经把hadoop跑起来，但是本文中用到了hadoop命令，在执行这些命令前你必须确保hadoop是在正常跑着的，而且启动hive的前提也是需要hadoop在正常跑着，所以建议你先将hadoop跑起来在按照本文操作。</p>
<h1 id="1下载hive"><a href="#1下载hive" class="headerlink" title="1下载hive"></a>1下载hive</h1><p>下载地址：<a href="http://mirror.bit.edu.cn/apache/hive/" target="_blank" rel="noopener">Hive下载</a><br><img src="http://mrblogimgs.oss-cn-qingdao.aliyuncs.com/img/hive/hive%E4%B8%8B%E8%BD%BD.png" alt="hive下载"><br>apache-hive-2.1.1-bin.tar.gz</p>
<h1 id="2安装"><a href="#2安装" class="headerlink" title="2安装"></a>2安装</h1><h2 id="2-1上载和解压缩"><a href="#2-1上载和解压缩" class="headerlink" title="2.1上载和解压缩"></a>2.1上载和解压缩</h2><p> 在~目录下新建一个名为hive的目录，将apache-hive-2.1.1-bin.tar.gz拷贝上去<br> 执行进入目录的命令：cd ~/hive<br> 执行解压缩的命令：tar -zxvf  apache-hive-2.1.1-bin.tar.gz</p>
<h2 id="2-2配置环境变量"><a href="#2-2配置环境变量" class="headerlink" title="2.2配置环境变量"></a>2.2配置环境变量</h2><p> 编辑/etc/profile文件，增加hive相关的环境变量配置</p>
<h1 id="Hive-environment"><a href="#Hive-environment" class="headerlink" title="Hive environment"></a>Hive environment</h1><p> export HIVE_HOME=/home/parallels/hive/apache-hive-2.1.1-bin<br> export PATH=$HIVE_HOME/bin:$HIVE_HOME/conf:$PATH</p>
<p> profile文件编辑完成后，执行下面命令，让配置生效，命令是: source  /etc/profile</p>
<h2 id="2-3对hive进行配置"><a href="#2-3对hive进行配置" class="headerlink" title="2.3对hive进行配置"></a>2.3对hive进行配置</h2><h3 id="2-3-1-hive-site-xml相关的配置"><a href="#2-3-1-hive-site-xml相关的配置" class="headerlink" title="2.3.1 hive-site.xml相关的配置"></a>2.3.1 hive-site.xml相关的配置</h3><h4 id="2-3-1-1新建hive-site-xml文件"><a href="#2-3-1-1新建hive-site-xml文件" class="headerlink" title="2.3.1.1新建hive-site.xml文件"></a>2.3.1.1新建hive-site.xml文件</h4><p> 进入到apache-hive-2.1.1-bin/conf目录，命令是：<br> 将hive-default.xml.template文件复制一份，并且改名为hive-site.xml，命令是：<br> cp hive-default.xml.template   hive-site.xml</p>
<h4 id="2-3-1-2使用hadoop新建hdfs目录"><a href="#2-3-1-2使用hadoop新建hdfs目录" class="headerlink" title="2.3.1.2使用hadoop新建hdfs目录"></a>2.3.1.2使用hadoop新建hdfs目录</h4><pre><code>因为在hive-site.xml中有这样的配置：
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/user/hive/warehouse&lt;/value&gt;</span><br><span class="line"> &lt;name&gt;hive.exec.scratchdir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/tmp/hive&lt;/value&gt;</span><br></pre></td></tr></table></figure>
<p>  所以要让hadoop新建/user/hive/warehouse目录，执行命令：<br> $HADOOP_HOME/bin/hadoop fs -mkdir -p /user/hive/warehouse<br>  给刚才新建的目录赋予读写权限，执行命令：<br> $HADOOP_HOME/bin/hadoop   fs   -chmod   777   /user/hive/warehouse<br>  让hadoop新建/tmp/hive/目录，执行命令：<br> $HADOOP_HOME/bin/hadoop   fs   -mkdir  -p   /tmp/hive/<br> 给刚才新建的目录赋予读写权限，执行命令：<br> $HADOOP_HOME/bin/hadoop   fs   -chmod  777   /tmp/hive</p>
<h4 id="2-3-1-3检查hdfs目录是否创建成功"><a href="#2-3-1-3检查hdfs目录是否创建成功" class="headerlink" title="2.3.1.3检查hdfs目录是否创建成功"></a>2.3.1.3检查hdfs目录是否创建成功</h4><p> 检查/user/hive/warehouse目录是否创建成功，执行命令：<br> $HADOOP_HOME/bin/hadoop   fs   -ls   /user/hive/<br> 检查/tmp/hive是否创建成功，执行命令：<br> $HADOOP_HOME/bin/hadoop   fs   -ls   /tmp/</p>
<h4 id="2-3-1-4修改hive-site-xml中的临时目录"><a href="#2-3-1-4修改hive-site-xml中的临时目录" class="headerlink" title="2.3.1.4修改hive-site.xml中的临时目录"></a>2.3.1.4修改hive-site.xml中的临时目录</h4><p> 将hive-site.xml文件中的${system:java.io.tmpdir}替换为hive的临时目录，例如我替换为~/hive/tmp，该目录如果不存在则要自己手工创建，并且赋予读写权限。<br>可以用命令：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -n <span class="string">"$&#123;system:java.io.tmpdir&#125;"</span> hive-site.xml</span><br></pre></td></tr></table></figure><br>来查找字段所在行数，然后替换<br>如：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;value&gt;$&#123;system:java.io.tmpdir&#125;/$&#123;system:user.name&#125;&lt;/value&gt;</span><br></pre></td></tr></table></figure><br>  被我替换为了<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;value&gt;/home/parallels/hive/apache-hive-2.1.1-bin/tmp&lt;/value&gt;  </span><br></pre></td></tr></table></figure>    </p>
<h4 id="2-3-1-5修改hive-site-xml数据库相关的配置"><a href="#2-3-1-5修改hive-site-xml数据库相关的配置" class="headerlink" title="2.3.1.5修改hive-site.xml数据库相关的配置"></a>2.3.1.5修改hive-site.xml数据库相关的配置</h4><p> 搜索javax.jdo.option.ConnectionURL，将该name对应的value修改为MySQL的地址，例如我修改后是：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;  </span><br><span class="line">&lt;value&gt;jdbc:mysql:<span class="comment">//master:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt;</span></span><br></pre></td></tr></table></figure><br> 搜索javax.jdo.option.ConnectionDriverName，将该name对应的value修改为MySQL驱动类路径，例如我的修改后是：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt; </span><br><span class="line">  &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; </span><br><span class="line">  &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; </span><br><span class="line">&lt;/property&gt;      </span><br></pre></td></tr></table></figure><br> 搜索javax.jdo.option.ConnectionUserName，将对应的value修改为MySQL数据库登录名：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;</span><br><span class="line">&lt;value&gt;root&lt;/value&gt;</span><br></pre></td></tr></table></figure><br> 搜索javax.jdo.option.ConnectionPassword，将对应的value修改为MySQL数据库的登录密码：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;</span><br><span class="line">&lt;value&gt;root&lt;/value&gt;</span><br></pre></td></tr></table></figure><br> 搜索hive.metastore.schema.verification，将对应的value修改为false：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;name&gt;hive.metastore.schema.verification&lt;/name&gt;</span><br><span class="line">&lt;value&gt;false&lt;/value&gt;</span><br></pre></td></tr></table></figure> </p>
<h4 id="2-3-1-6将MySQL驱动包上载到lib目录"><a href="#2-3-1-6将MySQL驱动包上载到lib目录" class="headerlink" title="2.3.1.6将MySQL驱动包上载到lib目录"></a>2.3.1.6将MySQL驱动包上载到lib目录</h4><p> 将MySQL驱动包上载到Hive的lib目录下，例如我是上载到apache-hive-2.1.1-bin/lib目录下。<br> 2.3.2新建hive-env.sh文件并进行修改<br> 进入到hive/apache-hive-2.1.1-bin/conf目录，命令是：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/hive/apache-hive<span class="number">-2.1</span><span class="number">.1</span>-bin/conf</span><br></pre></td></tr></table></figure><br> 将hive-env.sh.template文件复制一份，并且改名为hive-env.sh，命令是：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp hive-env.sh.template hive-env.sh</span><br></pre></td></tr></table></figure><br> 打开hive-env.sh配置并且添加以下内容：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span>  HADOOP_HOME=/home/parallels/hadoop/hadoop<span class="number">-2.8</span><span class="number">.2</span></span><br><span class="line"><span class="keyword">export</span>  HIVE_CONF_DIR=/home/parallels/hive/apache-hive<span class="number">-2.1</span><span class="number">.1</span>-bin/conf</span><br><span class="line"><span class="keyword">export</span>  HIVE_AUX_JARS_PATH=/home/parallels/hive/apache-hive<span class="number">-2.1</span><span class="number">.1</span>-bin/lib</span><br></pre></td></tr></table></figure> </p>
<h1 id="3启动和测试"><a href="#3启动和测试" class="headerlink" title="3启动和测试"></a>3启动和测试</h1><h2 id="3-1对MySQL数据库进行初始化"><a href="#3-1对MySQL数据库进行初始化" class="headerlink" title="3.1对MySQL数据库进行初始化"></a>3.1对MySQL数据库进行初始化</h2><p> 进入到hive的bin目录 执行命令：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/hive/apache-hive<span class="number">-2.1</span><span class="number">.1</span>-bin/bin</span><br></pre></td></tr></table></figure><br> 对数据库进行初始化，执行命令：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">schematool -initSchema  -dbType  mysql</span><br></pre></td></tr></table></figure><br> 执行成功后，hive数据库里已经有一堆表创建好了</p>
<h2 id="3-2启动hive"><a href="#3-2启动hive" class="headerlink" title="3.2启动hive"></a>3.2启动hive</h2><p> 进入到hive的bin目录执行命令：<br> cd  ~/hive/apache-hive-2.1.1-bin/bin<br> 执行hive脚本进行启动，执行命令：<br> ./hive</p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/大数据/">大数据</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/集群搭建/">集群搭建</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		3528
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/02/01/Hive配置/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/01/25/tomcat版本约束/">tomcat版本约束</a>  
	       
		 

		 <time>2018-01-25 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="tomcat版本约束"><a href="#tomcat版本约束" class="headerlink" title="tomcat版本约束"></a>tomcat版本约束</h1><table>
<thead>
<tr>
<th>Servlet约束</th>
<th>JSP约束</th>
<th>EL约束</th>
<th style="text-align:center">WebSocket约束</th>
<th style="text-align:center">JASPIC约束</th>
<th style="text-align:center">Apache Tomcat版本</th>
<th style="text-align:center">Tomcat最新发布的版本</th>
<th style="text-align:center">支持的Java版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>4.0</td>
<td>2.3</td>
<td>3.0.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">9.0.x</td>
<td style="text-align:center">9.0.2(测试版)</td>
<td style="text-align:center">8 and later</td>
</tr>
<tr>
<td>3.1</td>
<td>2.3</td>
<td>3.0.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">8.5.x</td>
<td style="text-align:center">8.5.24</td>
<td style="text-align:center">7 and later</td>
</tr>
<tr>
<td>3.1</td>
<td>2.3</td>
<td>3.0.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">8.0.x(已废弃)</td>
<td style="text-align:center">8.0.48(已废弃)</td>
<td style="text-align:center">7 and later</td>
</tr>
<tr>
<td>3.0</td>
<td>2.2</td>
<td>2.2.</td>
<td style="text-align:center">1.1.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">7.0.x</td>
<td style="text-align:center">7.0.82</td>
<td style="text-align:center">6 and later(7 and later for WebSocket)</td>
</tr>
<tr>
<td>2.5</td>
<td>2.1</td>
<td>2.1.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">6.0.x(已归档)</td>
<td style="text-align:center">6.0.53(已归档)</td>
<td style="text-align:center">5 and later</td>
</tr>
<tr>
<td>2.4</td>
<td>2.0</td>
<td>N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">5.5.x(已归档)</td>
<td style="text-align:center">5.5.36(已归档)</td>
<td style="text-align:center">1.4 and later</td>
</tr>
<tr>
<td>2.3</td>
<td>1.2</td>
<td>N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">4.1.x(已归档)</td>
<td style="text-align:center">4.1.40(已归档)</td>
<td style="text-align:center">1.3 and later</td>
</tr>
<tr>
<td>2.2</td>
<td>1.1</td>
<td>N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">N/A.</td>
<td style="text-align:center">3.3.x(已归档)</td>
<td style="text-align:center">3.3.2(已归档)</td>
<td style="text-align:center">1.1 and later</td>
</tr>
</tbody>
</table>
<p>⚠️所有已废弃，已归档和测试版的tomcat不建议下载      </p>
 

	    
</div>

<div class="center">
				

			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		593
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/01/25/tomcat版本约束/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/01/08/机器学习和深入学习资料转载/">机器学习和深入学习资料转载</a>  
	       
		 

		 <time>2018-01-08 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="1-数据集转载"><a href="#1-数据集转载" class="headerlink" title="1.数据集转载"></a>1.数据集转载</h1><p><a href="http://blog.csdn.net/yangdashi888/article/details/70503874" target="_blank" rel="noopener">深度学习常用的数据集，包括各种数据跟图像数据</a></p>
<p><a href="http://blog.csdn.net/c2a2o2/article/details/74942545" target="_blank" rel="noopener">机器学习数据集</a></p>
<p><a href="https://site.douban.com/146782/widget/notes/15524697/note/519440833/" target="_blank" rel="noopener">公开的海量数据集 Public Research-Quality Datasets</a></p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/资料转载/">资料转载</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/Hadoop/">Hadoop</a> <a class="tag-link" href="/tags/spark/">spark</a> <a class="tag-link" href="/tags/资料转载/">资料转载</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		77
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/01/08/机器学习和深入学习资料转载/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2018/01/08/spark资料转载/">spark资料转载</a>  
	       
		 

		 <time>2018-01-08 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="大数据资料转载"><a href="#大数据资料转载" class="headerlink" title="大数据资料转载"></a>大数据资料转载</h1><p><a href="http://spark.apachecn.org/docs/cn/2.2.0/index.html" target="_blank" rel="noopener">spark中文官网</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1005705?fromSource=gwzcw.700962.700962.700962" target="_blank" rel="noopener">Spark MLlib 算法系列之 FM</a></p>
<p><a href="http://shujuren.org/article/420.html" target="_blank" rel="noopener">大数据框架对比：Hadoop、Storm、Samza、Spark和Flink</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1030060" target="_blank" rel="noopener">大数据奇葩说：盘点10个有趣的大数据</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1030050" target="_blank" rel="noopener">大数据实时推荐-不只是统计</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1004886" target="_blank" rel="noopener">Spark Cache 性能测试</a></p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/资料转载/">资料转载</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/Hadoop/">Hadoop</a> <a class="tag-link" href="/tags/spark/">spark</a> <a class="tag-link" href="/tags/资料转载/">资料转载</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		122
		</span>		
</div>		

		
    <a class="article-readmore" href="/2018/01/08/spark资料转载/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2017/12/30/Hadoop异常/">Hadoop异常</a>  
	       
		 

		 <time>2017-12-30 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="1-java-io-IOException-Inconsistent-checkpoint-fields"><a href="#1-java-io-IOException-Inconsistent-checkpoint-fields" class="headerlink" title="1.java.io.IOException: Inconsistent checkpoint fields."></a>1.java.io.IOException: Inconsistent checkpoint fields.</h1><p>异常类型：java.io.IOException: Inconsistent checkpoint fields.<br>LV = -63 namespaceID = 1546098189 cTime = 1516970325460 ; clusterId = CID-6d672012-5fd7-499a-92ae-80393083d28a ; blockpoolId = BP-1045570623-10.211.55.8-1516970325460.</p>
<h2 id="1-看看core-site-xml文件中的“hadoop-tmp-dir”有没有配好"><a href="#1-看看core-site-xml文件中的“hadoop-tmp-dir”有没有配好" class="headerlink" title="1.看看core-site.xml文件中的“hadoop.tmp.dir”有没有配好"></a>1.看看core-site.xml文件中的“hadoop.tmp.dir”有没有配好</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">   &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">   &lt;value&gt;file:/home/parallels/hadoop/hadoop-2.8.2/tmp&lt;/value&gt;</span><br><span class="line">   &lt;description&gt; 存放临时文件的目录 &lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-看看防火墙有没有关"><a href="#2-看看防火墙有没有关" class="headerlink" title="2.看看防火墙有没有关"></a>2.看看防火墙有没有关</h2><p>cenOS 7:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service  停止firewall</span><br><span class="line">systemctl disable firewalld.service  禁止firewall开机启动</span><br><span class="line">firewall-cmd --state #查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</span><br></pre></td></tr></table></figure><br>cenOS 6：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chkconfig iptables off  永久关闭防火墙</span><br><span class="line">service iptables stop  停止防火墙</span><br><span class="line">service iptables status   查询防火墙状态</span><br></pre></td></tr></table></figure></p>
<h2 id="3-多次namenode导致data文件夹的VERSION和name文件夹的VERSION不一致"><a href="#3-多次namenode导致data文件夹的VERSION和name文件夹的VERSION不一致" class="headerlink" title="3.多次namenode导致data文件夹的VERSION和name文件夹的VERSION不一致"></a>3.多次namenode导致data文件夹的VERSION和name文件夹的VERSION不一致</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(1)删除hdfs/data/current文件夹</span><br><span class="line">(2)删除hdfs/name/current文件夹</span><br><span class="line">(3)删除tmp文件夹里的文件</span><br><span class="line">(4)hadoop namenode -format</span><br></pre></td></tr></table></figure>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/大数据异常/">大数据异常</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/Hadoop/">Hadoop</a> <a class="tag-link" href="/tags/异常/">异常</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		895
		</span>		
</div>		

		
    <a class="article-readmore" href="/2017/12/30/Hadoop异常/">阅读更多</a> 
    	
</article>     
     	
      	  	

  		
    	<article class="article">		
	   
	<div class="article-header">
	    
	     <a class="article-title"  href="/2017/12/21/Hadoop web页面和spark web页面不能访问/">Hadoop web页面和spark web页面不能访问</a>  
	       
		 

		 <time>2017-12-21 </time>    
	</div>


    <div class="article-excerpt">	
	
  	

	  

	  	<h1 id="1-CentOS-7-0默认使用的是firewall作为防火墙。"><a href="#1-CentOS-7-0默认使用的是firewall作为防火墙。" class="headerlink" title="1.CentOS 7.0默认使用的是firewall作为防火墙。"></a>1.CentOS 7.0默认使用的是firewall作为防火墙。</h1><h2 id="1-1、关闭firewall"><a href="#1-1、关闭firewall" class="headerlink" title="1.1、关闭firewall"></a>1.1、关闭firewall</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service  停止firewall</span><br><span class="line">systemctl disable firewalld.service  禁止firewall开机启动</span><br><span class="line">firewall-cmd --state #查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</span><br></pre></td></tr></table></figure>
<h2 id="1-2、如果使用的是防火墙iptables"><a href="#1-2、如果使用的是防火墙iptables" class="headerlink" title="1.2、如果使用的是防火墙iptables"></a>1.2、如果使用的是防火墙iptables</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chkconfig iptables off  永久关闭防火墙</span><br><span class="line">service iptables stop  停止防火墙</span><br><span class="line">service iptables status   查询防火墙状态</span><br></pre></td></tr></table></figure>
<h1 id="2-格式化Hadoop"><a href="#2-格式化Hadoop" class="headerlink" title="2.格式化Hadoop"></a>2.格式化Hadoop</h1><p>在hadoop中使用命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure></p>
<h1 id="3-查看端口是否打开"><a href="#3-查看端口是否打开" class="headerlink" title="3.查看端口是否打开"></a>3.查看端口是否打开</h1><p>启动集群，使用命令netstat -an | grep 50070和netstat -an | grep 8080查看端口是否打开</p>
 

	    
</div>

<div class="center">
			

				<span class="post-meta">		
				<span class="iconfont icon-category"></span>
				<a class="category-link" href="/categories/大数据异常/">大数据异常</a>
				</span>
		
			

		
				
				<span class="post-meta">
				<span class="iconfont icon-tag"></span>
				<a class="tag-link" href="/tags/Hadoop/">Hadoop</a> <a class="tag-link" href="/tags/spark/">spark</a> <a class="tag-link" href="/tags/异常/">异常</a>
				</span>			
			


		

		<span class="post-words"><span class="iconfont icon-words"></span>
		413
		</span>		
</div>		

		
    <a class="article-readmore" href="/2017/12/21/Hadoop web页面和spark web页面不能访问/">阅读更多</a> 
    	
</article>     
     	
  

 

  <nav class="paginator">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  

</section> 

    </div>        

    
    <div class="mask"> </div>
    <div class="back-to-top iconfont icon-backtotop fadeIn"></div> 

    


<script src="/js/search.js"></script>     
          
          <div class="search-container sildeUpMin">
            <input type="text" placeholder="输入你想搜索的" id="search-input" class="search-input">  
              <span class="search-cancel iconfont icon-cancel"></span>
              <div id="search-result" class="search-result"></div>
          </div>
 

     <div class="mobile-menu">      

      
      <img class="mobile-menu-icon no-gallery" src= /img/favicon.png >   
      

         
            

            <a class="mobile-menu-link" href="/">首页
            </a>
            
         
            

            <a class="mobile-menu-link" href="/archives">归档
            </a>
            
         
            

            <a class="mobile-menu-link" href="/categories">分类
            </a>
            
         
            

            <a class="mobile-menu-link" href="/tags">标签
            </a>
            
         
            

            <a class="mobile-menu-link" href="/about">关于
            </a>
            
         
                          

            <a class="mobile-menu-link mobile-menu-search" href="#">搜索 </a>                 
            
         
</div>     
    

<footer id="footer">
	   
   	 <div>	
	   	    	
   	 </div>
   
   	 
	 <div>
	 	&copy;
		2018
		Rui Min	 

	 </div>


   
   	 <div>
	
	 <a href="http://hexo.io/" target="_blank">Hexo</a>

	 Theme

	 <a href="https://github.com/Lemonreds/hexo-theme-Nayo" target="_blank">Nayo</a> 

	 </div>	


	
	
</footer> 
    

<!-- Baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?636802045446222199ae541e32c8133e"; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




 
  </body>   
  <script src="/js/animation.js"></script>   
</html>